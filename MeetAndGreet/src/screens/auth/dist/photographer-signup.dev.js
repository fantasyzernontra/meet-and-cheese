"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _blur=require("@react-native-community/blur");var _reactNativeSafeAreaContext=require("react-native-safe-area-context");var _AntDesign=_interopRequireDefault(require("react-native-vector-icons/AntDesign"));var _MaterialCommunityIcons=_interopRequireDefault(require("react-native-vector-icons/MaterialCommunityIcons"));var _path=_interopRequireDefault(require("../../api/path"));var _strapiRole=_interopRequireDefault(require("../../data/strapi-role"));var _user_type=_interopRequireDefault(require("../../data/user_type"));var _constant=require("../../constant");var _this=void 0,_jsxFileName="/Users/nonnontra/Desktop/Programming/On-Working/meet-and-cheese/MeetAndGreet/src/screens/auth/photographer-signup.js",_inputSection;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var PhotographerSignUp=function PhotographerSignUp(_ref){var navigation=_ref.navigation;var insets=(0,_reactNativeSafeAreaContext.useSafeAreaInsets)();var _useState=(0,_react.useState)({username:'',email:'',password:'',firstname:'',lastname:'',role:{_id:_strapiRole["default"]["public"]},biography:'',gender:'M',user_type:{_id:_user_type["default"].photographer}}),_useState2=(0,_slicedToArray2["default"])(_useState,2),info=_useState2[0],setInfo=_useState2[1];var _useState3=(0,_react.useState)(''),_useState4=(0,_slicedToArray2["default"])(_useState3,2),errMessage=_useState4[0],setErrMessage=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=(0,_slicedToArray2["default"])(_useState5,2),pending=_useState6[0],setPending=_useState6[1];var onFill=function onFill(name,value){setInfo(_objectSpread({},info,(0,_defineProperty2["default"])({},name,value)));};var onSignUp=function onSignUp(){var res;return _regenerator["default"].async(function onSignUp$(_context){while(1){switch(_context.prev=_context.next){case 0:setPending(true);_context.next=3;return _regenerator["default"].awrap(_path["default"].profile.signup(info));case 3:res=_context.sent;if(res){if(res.status===200)navigation.navigate('Login');else if(res.response.status===400)setErrMessage('Sign Up is insuccess. Please try again.');setPending(false);}case 5:case"end":return _context.stop();}}});};if(pending)return _react["default"].createElement(_reactNative.View,{style:{alignItems:'center',justifyContent:'center',flex:1},__self:_this,__source:{fileName:_jsxFileName,lineNumber:66,columnNumber:7}},_react["default"].createElement(_reactNative.ActivityIndicator,{color:"blue",size:"large",__self:_this,__source:{fileName:_jsxFileName,lineNumber:67,columnNumber:9}}));return _react["default"].createElement(_reactNativeSafeAreaContext.SafeAreaView,{style:_objectSpread({paddingTop:insets.top,paddingLeft:insets.left,paddingRight:insets.right,paddingBottom:insets.bottom},styles.safeAreaContainer),__self:_this,__source:{fileName:_jsxFileName,lineNumber:71,columnNumber:5}},_react["default"].createElement(_reactNative.View,{style:styles.main_container,__self:_this,__source:{fileName:_jsxFileName,lineNumber:79,columnNumber:7}},_react["default"].createElement(_reactNative.View,{style:{flexDirection:'row'},__self:_this,__source:{fileName:_jsxFileName,lineNumber:80,columnNumber:9}},_react["default"].createElement(_reactNative.TouchableOpacity,{style:styles.back_container,activeOpacity:0.2,onPress:function onPress(){navigation.goBack();},__self:_this,__source:{fileName:_jsxFileName,lineNumber:81,columnNumber:11}},_react["default"].createElement(_AntDesign["default"],{name:"left",color:"#000",size:25,__self:_this,__source:{fileName:_jsxFileName,lineNumber:87,columnNumber:13}}))),_react["default"].createElement(_reactNative.Text,{style:styles.title,__self:_this,__source:{fileName:_jsxFileName,lineNumber:90,columnNumber:9}},"Create an account to show your work"),_react["default"].createElement(_blur.BlurView,{style:styles.form_container,blurRadius:1,blurType:"thinMaterialLight",__self:_this,__source:{fileName:_jsxFileName,lineNumber:91,columnNumber:9}},_react["default"].createElement(_reactNative.ScrollView,{showsVerticalScrollIndicator:false,style:{alignSelf:'center'},__self:_this,__source:{fileName:_jsxFileName,lineNumber:95,columnNumber:11}},_react["default"].createElement(_reactNative.Text,{style:styles.input_label,__self:_this,__source:{fileName:_jsxFileName,lineNumber:100,columnNumber:13}},"Email"),_react["default"].createElement(_reactNative.View,{style:styles.inputSection,__self:_this,__source:{fileName:_jsxFileName,lineNumber:101,columnNumber:13}},_react["default"].createElement(_MaterialCommunityIcons["default"],{name:"email",color:"#c9c9c9",size:25,style:{position:'absolute',zIndex:1,left:10,justifyContent:'flex-start'},__self:_this,__source:{fileName:_jsxFileName,lineNumber:102,columnNumber:15}}),_react["default"].createElement(_reactNative.TextInput,{placeholder:"Email",style:styles.input,selectionColor:"#64bfa4",autoCorrect:false,autoCapitalize:"none",onChangeText:function onChangeText(val){return onFill('email',val);},value:info.email,__self:_this,__source:{fileName:_jsxFileName,lineNumber:113,columnNumber:15}})),_react["default"].createElement(_reactNative.Text,{style:styles.input_label,__self:_this,__source:{fileName:_jsxFileName,lineNumber:123,columnNumber:13}},"Username"),_react["default"].createElement(_reactNative.View,{style:styles.inputSection,__self:_this,__source:{fileName:_jsxFileName,lineNumber:124,columnNumber:13}},_react["default"].createElement(_MaterialCommunityIcons["default"],{name:"account",color:"#c9c9c9",size:25,style:{position:'absolute',zIndex:1,left:10,justifyContent:'flex-start'},__self:_this,__source:{fileName:_jsxFileName,lineNumber:125,columnNumber:15}}),_react["default"].createElement(_reactNative.TextInput,{placeholder:"Username",style:styles.input,selectionColor:"#64bfa4",autoCorrect:false,autoCapitalize:"none",onChangeText:function onChangeText(val){return onFill('username',val);},value:info.username,__self:_this,__source:{fileName:_jsxFileName,lineNumber:136,columnNumber:15}})),_react["default"].createElement(_reactNative.Text,{style:styles.input_label,__self:_this,__source:{fileName:_jsxFileName,lineNumber:146,columnNumber:13}},"Password"),_react["default"].createElement(_reactNative.View,{style:styles.inputSection,__self:_this,__source:{fileName:_jsxFileName,lineNumber:147,columnNumber:13}},_react["default"].createElement(_MaterialCommunityIcons["default"],{name:"lock",color:"#c9c9c9",size:25,style:{position:'absolute',zIndex:1,left:10,justifyContent:'flex-start'},__self:_this,__source:{fileName:_jsxFileName,lineNumber:148,columnNumber:15}}),_react["default"].createElement(_reactNative.TextInput,{placeholder:"Password",style:styles.input,selectionColor:"#64bfa4",autoCorrect:false,autoCapitalize:"none",onChangeText:function onChangeText(val){return onFill('password',val);},value:info.password,__self:_this,__source:{fileName:_jsxFileName,lineNumber:159,columnNumber:15}})),_react["default"].createElement(_reactNative.Text,{style:styles.input_label,__self:_this,__source:{fileName:_jsxFileName,lineNumber:169,columnNumber:13}},"First Name"),_react["default"].createElement(_reactNative.View,{style:styles.inputSection,__self:_this,__source:{fileName:_jsxFileName,lineNumber:170,columnNumber:13}},_react["default"].createElement(_MaterialCommunityIcons["default"],{name:"comment-edit",color:"#c9c9c9",size:25,style:{position:'absolute',zIndex:1,left:10,justifyContent:'flex-start'},__self:_this,__source:{fileName:_jsxFileName,lineNumber:171,columnNumber:15}}),_react["default"].createElement(_reactNative.TextInput,{placeholder:"Firstname",style:styles.input,selectionColor:"#64bfa4",autoCorrect:false,autoCapitalize:"none",onChangeText:function onChangeText(val){return onFill('firstname',val);},value:info.firstname,__self:_this,__source:{fileName:_jsxFileName,lineNumber:182,columnNumber:15}})),_react["default"].createElement(_reactNative.Text,{style:styles.input_label,__self:_this,__source:{fileName:_jsxFileName,lineNumber:192,columnNumber:13}},"Last Name"),_react["default"].createElement(_reactNative.View,{style:styles.inputSection,__self:_this,__source:{fileName:_jsxFileName,lineNumber:193,columnNumber:13}},_react["default"].createElement(_MaterialCommunityIcons["default"],{name:"comment-edit",color:"#c9c9c9",size:25,style:{position:'absolute',zIndex:1,left:10,justifyContent:'flex-start'},__self:_this,__source:{fileName:_jsxFileName,lineNumber:194,columnNumber:15}}),_react["default"].createElement(_reactNative.TextInput,{placeholder:"Lastname",style:styles.input,selectionColor:"#64bfa4",autoCorrect:false,autoCapitalize:"none",onChangeText:function onChangeText(val){return onFill('lastname',val);},value:info.lastname,__self:_this,__source:{fileName:_jsxFileName,lineNumber:205,columnNumber:15}}))),_react["default"].createElement(_reactNative.View,{style:{height:30},__self:_this,__source:{fileName:_jsxFileName,lineNumber:216,columnNumber:11}}),_react["default"].createElement(_reactNative.Text,{style:styles.err_message,__self:_this,__source:{fileName:_jsxFileName,lineNumber:217,columnNumber:11}},errMessage),_react["default"].createElement(_reactNative.TouchableOpacity,{onPress:onSignUp,activeOpacity:0.8,__self:_this,__source:{fileName:_jsxFileName,lineNumber:218,columnNumber:11}},_react["default"].createElement(_reactNative.View,{style:styles.signup_button,__self:_this,__source:{fileName:_jsxFileName,lineNumber:219,columnNumber:13}},_react["default"].createElement(_reactNative.Text,{style:styles.signup_text,__self:_this,__source:{fileName:_jsxFileName,lineNumber:220,columnNumber:15}},"Sign Up"))))));};var styles=_reactNative.StyleSheet.create({safeAreaContainer:{flex:1},main_container:{flex:1},form_container:{height:_reactNative.Dimensions.get('screen').height*0.8,width:'100%',backgroundColor:'#000',borderRadius:30,shadowColor:'#000',shadowOffset:{width:3,height:4},shadowOpacity:0.25,shadowRadius:4,elevation:5,paddingBottom:60},title:{fontFamily:'NanumGothic',fontWeight:'700',fontSize:35,color:_constant.SECONDARY_COLOR,paddingHorizontal:25,marginTop:20,marginBottom:30},back_container:{alignSelf:'flex-start',flexDirection:'row',alignItems:'center',paddingLeft:15},back_text:{fontFamily:'NanumGothic',paddingLeft:10},inputSection:(_inputSection={flexDirection:'row',alignItems:'center',height:50,marginVertical:10,width:_reactNative.Dimensions.get('screen').width,alignSelf:'center',borderRadius:30},(0,_defineProperty2["default"])(_inputSection,"alignSelf",'center'),(0,_defineProperty2["default"])(_inputSection,"width",_reactNative.Dimensions.get('screen').width*0.8),_inputSection),input:{alignSelf:'center',padding:10,paddingLeft:40,paddingHorizontal:20,height:50,backgroundColor:'#fff',borderRadius:20,fontFamily:'NanumGothic',flex:1},input_label:{flex:1,fontFamily:'NanumGothic',color:'#fff',marginTop:20},signup_button:{width:'80%',height:48,borderRadius:20,backgroundColor:_constant.SECONDARY_COLOR,marginBottom:25,justifyContent:'center',alignItems:'center',alignSelf:'center'},signup_text:{fontFamily:'NanumGothic',color:'#E3ECFF',fontSize:16,fontWeight:'500'},err_message:{fontFamily:'NanumGothic',color:'#FF7F7F',textAlign:'center',elevation:5}});var _default=PhotographerSignUp;exports["default"]=_default;